<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Cinephile Directory</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for a dark, cinematic look */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a1a; /* Dark background */
            color: #f0f0f0; /* Light text */
        }
        /* Custom scrollbar style */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #2a2a2a;
        }
        ::-webkit-scrollbar-thumb {
            background: #4a4a4a;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6a6a6a;
        }
        /* Main content area transition */
        #content-area {
            transition: opacity 0.3s ease-in-out;
        }
    </style>
</head>
<body>

    <!-- Main Application Container -->
    <div class="flex h-screen overflow-hidden">

        <!-- 1. Sidebar Navigation (Fixed) -->
        <div id="sidebar" class="w-64 bg-gray-900 p-6 flex flex-col shadow-2xl transition-all duration-300 md:block fixed md:static z-20" style="min-height: 100vh;">
            <h2 class="text-3xl font-extrabold mb-8 text-red-500 tracking-wider cursor-pointer" onclick="navigateTo('main', null)">CineVault</h2>

            <nav class="space-y-4">
                <a href="#" class="sidebar-link" data-type="movies">All Movies</a>
                <a href="#" class="sidebar-link" data-type="directors">All Directors</a>
                <a href="#" class="sidebar-link" data-type="actors">All Actors</a>
                <a href="#" class="sidebar-link" data-type="series">All Series</a>
                <a href="#" class="sidebar-link" onclick="navigateTo('main', null)">Home</a>
            </nav>
        </div>

        <!-- 2. Main Content Area (Scrollable) -->
        <main id="content-area" class="flex-1 p-6 md:p-10 overflow-y-auto">
            <!-- Content will be injected here by JavaScript -->
            <div id="content-injector"></div>
        </main>
    </div>

    <script>
        // --- 1. MOCK DATA STRUCTURE ---
        // This is the core 'database' for the application.
        const cineData = {
            movies: [
                { id: 'm1', title: 'Pulp Fiction', directorId: 'd1', actors: ['a1', 'a2', 'a3'], year: 1994, streaming: 'Max, SkyShowtime', summary: 'The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.' },
                { id: 'm2', title: 'Inception', directorId: 'd2', actors: ['a4', 'a5'], year: 2010, streaming: 'Netflix, Prime Video', summary: 'A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.' },
                { id: 'm3', title: 'Eternal Sunshine of the Spotless Mind', directorId: 'd3', actors: ['a6', 'a7'], year: 2004, streaming: 'Hulu', summary: 'When their relationship turns sour, a couple undergoes a procedure to erase each other from their memories.' }
            ],
            directors: [
                { id: 'd1', name: 'Quentin Tarantino', bio: 'Known for non-linear storylines and stylized violence.', born: 1963, relatedMovies: ['m1'] },
                { id: 'd2', name: 'Christopher Nolan', bio: 'Master of high-concept, non-linear narratives and practical effects.', born: 1970, relatedMovies: ['m2'] },
                { id: 'd3', name: 'Michel Gondry', bio: 'A French director known for his innovative visual style and experimental approach.', born: 1963, relatedMovies: ['m3'] }
            ],
            actors: [
                { id: 'a1', name: 'John Travolta', bio: 'An American actor and singer, known for his roles in the 70s and 90s.', born: 1954, relatedMovies: ['m1'] },
                { id: 'a2', name: 'Uma Thurman', bio: 'Known for her roles in action and drama films, often collaborating with Tarantino.', born: 1970, relatedMovies: ['m1'] },
                { id: 'a3', name: 'Samuel L. Jackson', bio: 'A highly prolific actor known for his distinct voice and intensity.', born: 1948, relatedMovies: ['m1'] },
                { id: 'a4', name: 'Leonardo DiCaprio', bio: 'An Oscar-winning actor, frequent collaborator with Scorsese and Nolan.', born: 1974, relatedMovies: ['m2'] },
                { id: 'a5', name: 'Joseph Gordon-Levitt', bio: 'Versatile American actor who began his career as a child star.', born: 1981, relatedMovies: ['m2'] },
                { id: 'a6', name: 'Jim Carrey', bio: 'Known for his highly energetic slapstick performances and dramatic roles.', born: 1962, relatedMovies: ['m3'] },
                { id: 'a7', name: 'Kate Winslet', bio: 'English actress, noted for her work in period dramas.', born: 1975, relatedMovies: ['m3'] }
            ],
            series: [
                { id: 's1', title: 'The Sopranos', director: 'David Chase', summary: 'New Jersey mob boss Tony Soprano deals with personal and professional issues.', streaming: 'Max', year: 1999 },
                { id: 's2', title: 'Breaking Bad', director: 'Vince Gilligan', summary: 'A high school chemistry teacher turns to making and selling methamphetamine.', streaming: 'Netflix', year: 2008 }
            ]
        };

        // --- 2. STATE MANAGEMENT & NAVIGATION ---

        const contentInjector = document.getElementById('content-injector');
        const contentArea = document.getElementById('content-area');

        /**
         * Navigates the application to a new view state and re-renders the content.
         * @param {string} view - 'main', 'list', 'movie', 'director', 'actor', 'series'
         * @param {string} dataType - 'movies', 'directors', 'actors', 'series' (for 'list' view)
         * @param {string} id - The ID of the specific item (e.g., 'm1', 'd1')
         */
        function navigateTo(view, dataType, id) {
            // Simple fade out transition
            contentArea.style.opacity = 0;

            setTimeout(() => {
                switch (view) {
                    case 'main':
                        renderMainPage();
                        break;
                    case 'list':
                        renderListPage(dataType);
                        break;
                    case 'movie':
                        renderMoviePage(id);
                        break;
                    case 'director':
                        renderDirectorPage(id);
                        break;
                    case 'actor':
                        renderActorPage(id);
                        break;
                    case 'series':
                        renderSeriesPage(id);
                        break;
                    default:
                        renderMainPage();
                }
                // Simple fade in transition
                contentArea.style.opacity = 1;
            }, 300); // Match transition duration
        }

        // --- 3. RENDERING FUNCTIONS ---

        /** Renders the Main Welcome Page */
        function renderMainPage() {
            contentInjector.innerHTML = `
                <div class="min-h-full flex flex-col justify-center items-center text-center py-20 bg-gray-800 rounded-xl shadow-lg border border-red-800/20">
                    <h2 class="text-6xl font-black text-white mb-4">Welcome, Cinephile.</h2>
                    <p class="text-xl text-gray-400 max-w-lg mb-8">
                        Dive into the interconnected web of cinema. Use the **CineVault** sidebar to explore directors, actors, and their masterpieces.
                    </p>
                    <div class="flex space-x-4">
                        <button onclick="navigateTo('list', 'movies')" class="px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg shadow-md transition duration-200 transform hover:scale-105">
                            Browse Movies
                        </button>
                        <button onclick="navigateTo('list', 'directors')" class="px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg shadow-md transition duration-200 transform hover:scale-105">
                            Find Directors
                        </button>
                    </div>
                </div>
            `;
        }

        /** Renders a list of items (e.g., all movies, all directors) */
        function renderListPage(dataType) {
            const items = cineData[dataType] || [];
            const title = `All ${dataType.charAt(0).toUpperCase() + dataType.slice(1)}`;
            const clickHandler = (id) => {
                let viewType = dataType.slice(0, -1); // 'movies' -> 'movie'
                // Special case for 'series' which has no detail page in this simplified version
                if (viewType === 'serie') viewType = 'series';
                navigateTo(viewType, null, id);
            };

            contentInjector.innerHTML = `
                <h2 class="text-4xl font-bold mb-8 text-red-400">${title}</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    ${items.map(item => `
                        <div onclick="clickHandler('${item.id}')"
                             class="p-5 bg-gray-800 rounded-xl shadow-xl cursor-pointer hover:bg-gray-700 transition duration-300 transform hover:scale-[1.02] border border-gray-700 hover:border-red-600/50">
                            <h3 class="text-xl font-semibold text-white">${item.title || item.name}</h3>
                            <p class="text-sm text-gray-400">${item.year ? item.year : item.born ? 'Born: ' + item.born : ''}</p>
                        </div>
                    `).join('')}
                </div>
            `;
            // Attach the click handler to the scope of the generated HTML
            contentInjector.querySelector('.grid').addEventListener('click', (e) => {
                const itemDiv = e.target.closest('div[onclick]');
                if (itemDiv) {
                    const id = itemDiv.getAttribute('onclick').match(/'([^']+)'/)[1];
                    let viewType = dataType.slice(0, -1); // 'movies' -> 'movie'
                    if (viewType === 'serie') viewType = 'series';
                    navigateTo(viewType, null, id);
                }
            });
        }

        /** Renders the detail page for a specific Movie */
        function renderMoviePage(id) {
            const movie = cineData.movies.find(m => m.id === id);
            if (!movie) return contentInjector.innerHTML = `<p class="text-red-500">Movie not found.</p>`;

            const director = cineData.directors.find(d => d.id === movie.directorId);
            const cast = movie.actors.map(aid => cineData.actors.find(a => a.id === aid)).filter(a => a);

            contentInjector.innerHTML = `
                <div class="bg-gray-800 p-8 rounded-xl shadow-2xl border border-red-600/30">
                    <h2 class="text-5xl font-extrabold mb-2 text-red-500">${movie.title}</h2>
                    <p class="text-xl text-gray-400 mb-6">${movie.year}</p>

                    <!-- Director Link -->
                    <div class="mb-6 p-4 bg-gray-900 rounded-lg">
                        <span class="text-red-400 font-semibold">Director:</span>
                        <a href="#" onclick="navigateTo('director', null, '${director.id}')"
                           class="text-white hover:text-red-300 font-medium ml-2 underline transition duration-200">
                           ${director.name}
                        </a>
                    </div>

                    <!-- Summary & Streaming -->
                    <div class="space-y-4 mb-8">
                        <h3 class="text-2xl font-semibold text-white">Plot Summary</h3>
                        <p class="text-gray-300 leading-relaxed">${movie.summary}</p>
                        <p class="text-lg text-red-400 font-medium">Available on: <span class="text-white">${movie.streaming}</span></p>
                    </div>

                    <!-- Cast List (Linked) -->
                    <h3 class="text-2xl font-semibold text-white mb-4 border-b border-gray-700 pb-2">Starring Cast</h3>
                    <div class="flex flex-wrap gap-4">
                        ${cast.map(actor => `
                            <a href="#" onclick="navigateTo('actor', null, '${actor.id}')"
                               class="inline-block px-4 py-2 bg-gray-700 text-white rounded-full hover:bg-red-600 transition duration-200 text-sm font-medium">
                                ${actor.name}
                            </a>
                        `).join('')}
                    </div>
                </div>
                <button onclick="navigateTo('list', 'movies')" class="mt-8 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm transition duration-200">
                    ← Back to All Movies
                </button>
            `;
        }
        
        /** Renders the detail page for a specific Director */
        function renderDirectorPage(id) {
            const director = cineData.directors.find(d => d.id === id);
            if (!director) return contentInjector.innerHTML = `<p class="text-red-500">Director not found.</p>`;
            
            const relatedMovies = director.relatedMovies.map(mid => cineData.movies.find(m => m.id === mid)).filter(m => m);

            contentInjector.innerHTML = `
                <div class="bg-gray-800 p-8 rounded-xl shadow-2xl border border-red-600/30">
                    <h2 class="text-5xl font-extrabold mb-2 text-red-500">${director.name}</h2>
                    <p class="text-xl text-gray-400 mb-6">Born: ${director.born}</p>

                    <!-- Biography -->
                    <div class="space-y-4 mb-8">
                        <h3 class="text-2xl font-semibold text-white">Biography</h3>
                        <p class="text-gray-300 leading-relaxed">${director.bio}</p>
                    </div>

                    <!-- Filmography (Linked) -->
                    <h3 class="text-2xl font-semibold text-white mb-4 border-b border-gray-700 pb-2">Key Filmography</h3>
                    <div class="space-y-2">
                        ${relatedMovies.map(movie => `
                            <div class="flex justify-between items-center p-3 bg-gray-900 rounded-md">
                                <a href="#" onclick="navigateTo('movie', null, '${movie.id}')"
                                   class="text-lg text-white hover:text-red-300 font-medium transition duration-200">
                                   ${movie.title} (${movie.year})
                                </a>
                                <span class="text-sm text-gray-500">Movie</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
                <button onclick="navigateTo('list', 'directors')" class="mt-8 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm transition duration-200">
                    ← Back to All Directors
                </button>
            `;
        }

        /** Renders the detail page for a specific Actor */
        function renderActorPage(id) {
            const actor = cineData.actors.find(a => a.id === id);
            if (!actor) return contentInjector.innerHTML = `<p class="text-red-500">Actor not found.</p>`;

            const relatedMovies = actor.relatedMovies.map(mid => cineData.movies.find(m => m.id === mid)).filter(m => m);

            contentInjector.innerHTML = `
                <div class="bg-gray-800 p-8 rounded-xl shadow-2xl border border-red-600/30">
                    <h2 class="text-5xl font-extrabold mb-2 text-red-500">${actor.name}</h2>
                    <p class="text-xl text-gray-400 mb-6">Born: ${actor.born}</p>

                    <!-- Biography -->
                    <div class="space-y-4 mb-8">
                        <h3 class="text-2xl font-semibold text-white">Biography</h3>
                        <p class="text-gray-300 leading-relaxed">${actor.bio}</p>
                    </div>

                    <!-- Filmography (Linked) -->
                    <h3 class="text-2xl font-semibold text-white mb-4 border-b border-gray-700 pb-2">Key Filmography</h3>
                    <div class="space-y-2">
                        ${relatedMovies.map(movie => `
                            <div class="flex justify-between items-center p-3 bg-gray-900 rounded-md">
                                <a href="#" onclick="navigateTo('movie', null, '${movie.id}')"
                                   class="text-lg text-white hover:text-red-300 font-medium transition duration-200">
                                   ${movie.title} (${movie.year})
                                </a>
                                <span class="text-sm text-gray-500">Movie</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
                <button onclick="navigateTo('list', 'actors')" class="mt-8 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm transition duration-200">
                    ← Back to All Actors
                </button>
            `;
        }
        
        /** Renders the detail page for a specific Series (Simplified for this version) */
        function renderSeriesPage(id) {
            const series = cineData.series.find(s => s.id === id);
            if (!series) return contentInjector.innerHTML = `<p class="text-red-500">Series not found.</p>`;

            contentInjector.innerHTML = `
                <div class="bg-gray-800 p-8 rounded-xl shadow-2xl border border-red-600/30">
                    <h2 class="text-5xl font-extrabold mb-2 text-red-500">${series.title}</h2>
                    <p class="text-xl text-gray-400 mb-6">First Aired: ${series.year}</p>

                    <div class="space-y-4 mb-8">
                        <p class="text-lg text-red-400 font-medium">Creator/Showrunner: <span class="text-white">${series.director}</span></p>
                        <p class="text-lg text-red-400 font-medium">Available on: <span class="text-white">${series.streaming}</span></p>
                    </div>
                    
                    <!-- Summary -->
                    <h3 class="text-2xl font-semibold text-white">Synopsis</h3>
                    <p class="text-gray-300 leading-relaxed">${series.summary}</p>
                    
                </div>
                <button onclick="navigateTo('list', 'series')" class="mt-8 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm transition duration-200">
                    ← Back to All Series
                </button>
            `;
        }

        // --- 4. INITIALIZATION AND EVENT LISTENERS ---

        /** Sets up initial event listeners and renders the starting page. */
        function initApp() {
            // Apply Tailwind classes to sidebar links
            const sidebarLinks = document.querySelectorAll('.sidebar-link');
            sidebarLinks.forEach(link => {
                link.classList.add('block', 'p-3', 'rounded-lg', 'font-medium', 'text-gray-300', 'hover:bg-red-800/20', 'hover:text-red-300', 'transition', 'duration-200');

                // Attach navigation logic to links with data-type
                if (link.dataset.type) {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        navigateTo('list', link.dataset.type);
                    });
                }
            });

            // Start the application on the main page
            navigateTo('main');
        }

        // Wait for the entire DOM to load before starting the app
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
